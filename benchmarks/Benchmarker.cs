using System.Text;
using BenchmarkDotNet.Attributes;
using Elite.SpanshTools.Model;
using Elite.SpanshTools.Parsers;

namespace Elite.SpanshTools.Benchmark
{
	[MemoryDiagnoser]
	public class Benchmarker
	{
		// A system that's meaty enough to be a decent parse, but not so big (like Sol or Achenar) that Visual Studio chokes on it
		private const string benchmarkSystem = @"[{""id64"":19365007,""name"":""lam01 Orionis"",""coords"":{""x"":365.78125,""y"":-299.28125,""z"":-1360.25},""allegiance"":""Independent"",""government"":""Democracy"",""primaryEconomy"":""Extraction"",""secondaryEconomy"":""Service"",""security"":""Low"",""population"":162851,""bodyCount"":12,""controllingFaction"":{""name"":""The Dark Wheel"",""government"":""Democracy"",""allegiance"":""Independent""},""factions"":[{""name"":""Children of Raxxla"",""allegiance"":""Independent"",""government"":""Anarchy"",""influence"":0.02997,""state"":""None""},{""name"":""LOST Industrial Technologies"",""allegiance"":""Empire"",""government"":""Corporate"",""influence"":0.425574,""state"":""Expansion""},{""name"":""Pereng Asli General Ltd"",""allegiance"":""Empire"",""government"":""Corporate"",""influence"":0.035964,""state"":""None""},{""name"":""The Dark Wheel"",""allegiance"":""Independent"",""government"":""Democracy"",""influence"":0.508492,""state"":""None""}],""date"":""2025-08-12 20:03:22+00"",""bodies"":[{""id64"":36028797038328975,""bodyId"":1,""name"":""lam01 Orionis A"",""type"":""Star"",""subType"":""O (Blue-White) Star"",""distanceToArrival"":0.0,""mainStar"":true,""age"":214,""spectralClass"":""O8"",""luminosity"":""III"",""absoluteMagnitude"":-4.902374,""solarMasses"":116.246094,""solarRadius"":2.80368016103523,""surfaceTemperature"":32444.0,""rotationalPeriod"":1.21662515049769,""rotationalPeriodTidallyLocked"":false,""axialTilt"":0.0,""parents"":[{""Null"":0}],""orbitalPeriod"":111448.905534214,""semiMajorAxis"":22.2634150909155,""orbitalEccentricity"":0.107549,""orbitalInclination"":7.109193,""argOfPeriapsis"":248.048582,""meanAnomaly"":78.231433,""ascendingNode"":105.685231,""timestamps"":{""distanceToArrival"":""2025-08-12T20:03:22Z"",""meanAnomaly"":""2025-08-12T20:03:22Z""},""stations"":[],""updateTime"":""2025-08-12 20:03:22+00""},{""id64"":72057594057292943,""bodyId"":2,""name"":""lam01 Orionis B"",""type"":""Star"",""subType"":""Black Hole"",""distanceToArrival"":115355.432199,""mainStar"":false,""age"":214,""spectralClass"":null,""luminosity"":""VII"",""absoluteMagnitude"":20.0,""solarMasses"":13.050781,""solarRadius"":0.0000553552019683681,""surfaceTemperature"":0.0,""rotationalPeriod"":0.00000145403935185185,""rotationalPeriodTidallyLocked"":false,""axialTilt"":0.0,""parents"":[{""Null"":0}],""orbitalPeriod"":111448.905534214,""semiMajorAxis"":211.375430273325,""orbitalEccentricity"":0.107549,""orbitalInclination"":7.109193,""argOfPeriapsis"":68.048587,""meanAnomaly"":78.231433,""ascendingNode"":105.685231,""timestamps"":{""distanceToArrival"":""2025-08-12T20:03:22Z"",""meanAnomaly"":""2025-08-12T20:03:22Z""},""stations"":[],""updateTime"":""2025-08-12 20:03:22+00""},{""id64"":108086391076256911,""bodyId"":3,""name"":""lam01 Orionis A 1"",""type"":""Planet"",""subType"":""Metal-rich body"",""distanceToArrival"":389.187913,""isLandable"":false,""gravity"":19.370380544509,""earthMasses"":79.82193,""radius"":12941.322,""surfaceTemperature"":17343.699219,""surfacePressure"":404075915.097755,""volcanismType"":""Major Silicate Vapour Geysers"",""atmosphereType"":""Hot thick Metallic vapour"",""atmosphereComposition"":{""Iron"":94.370003,""Silicates"":5.629058},""solidComposition"":{""Ice"":0.0,""Metal"":99.7381,""Rock"":0.2619},""terraformingState"":""Not terraformable"",""rotationalPeriod"":23.2644588073958,""rotationalPeriodTidallyLocked"":true,""axialTilt"":-0.041426,""parents"":[{""Star"":1},{""Null"":0}],""orbitalPeriod"":22.5337035954051,""semiMajorAxis"":0.778429611962026,""orbitalEccentricity"":0.002063,""orbitalInclination"":-0.004997,""argOfPeriapsis"":16.600392,""meanAnomaly"":201.117072,""ascendingNode"":127.828961,""timestamps"":{""distanceToArrival"":""2025-08-12T20:04:52Z"",""meanAnomaly"":""2025-08-12T20:04:52Z""},""stations"":[{""name"":""System Colonisation Ship"",""id"":3953967874,""updateTime"":""2025-05-05 08:24:40+00"",""controllingFaction"":""Brewer Corporation"",""controllingFactionState"":null,""distanceToArrival"":387.944603,""primaryEconomy"":""Colony"",""economies"":{""Colony"":100.0},""allegiance"":""Empire"",""government"":""Corporate"",""services"":[""Dock"",""Autodock"",""Market"",""Contacts"",""Missions"",""Restock"",""Refuel"",""Repair"",""Workshop"",""Interstellar Factors Contact"",""Flight Controller"",""Station Operations"",""Search and Rescue"",""Station Menu"",""Construction Services""],""type"":""Planetary Outpost"",""landingPads"":{""large"":16,""medium"":8,""small"":8},""market"":{""commodities"":[{""name"":""Liquid oxygen"",""symbol"":""LiquidOxygen"",""category"":""Chemicals"",""commodityId"":128673851,""demand"":0,""supply"":0,""buyPrice"":442,""sellPrice"":441}],""prohibitedCommodities"":[""Narcotics"",""Battle Weapons"",""Combat Stabilisers"",""Imperial Slaves"",""Slaves"",""Tobacco""],""updateTime"":""2025-05-05 08:24:40+00""}}],""updateTime"":""2025-08-12 20:04:52+00""},{""id64"":144115188095220879,""bodyId"":4,""name"":""lam01 Orionis A 2"",""type"":""Star"",""subType"":""M (Red dwarf) Star"",""distanceToArrival"":574.445132,""mainStar"":false,""age"":214,""spectralClass"":""M0"",""luminosity"":""Vz"",""absoluteMagnitude"":9.308334,""solarMasses"":0.339844,""solarRadius"":0.53295891876348,""surfaceTemperature"":2823.0,""rotationalPeriod"":2.1748118449537,""rotationalPeriodTidallyLocked"":false,""axialTilt"":2.472866,""parents"":[{""Star"":1},{""Null"":0}],""orbitalPeriod"":40.5130507769444,""semiMajorAxis"":1.15096195203474,""orbitalEccentricity"":0.000309,""orbitalInclination"":0.4994,""argOfPeriapsis"":137.368567,""meanAnomaly"":128.166192,""ascendingNode"":100.257533,""timestamps"":{""distanceToArrival"":""2025-08-12T20:03:22Z"",""meanAnomaly"":""2025-08-12T20:03:22Z""},""stations"":[],""updateTime"":""2025-08-12 20:03:22+00""},{""id64"":180143985114184847,""bodyId"":5,""name"":""lam01 Orionis barycentre 5"",""type"":""Barycentre"",""orbitalPeriod"":56.3112908491435,""semiMajorAxis"":1.43348987790977,""orbitalEccentricity"":0.003799,""orbitalInclination"":0.033127,""argOfPeriapsis"":165.554746,""meanAnomaly"":73.243481,""ascendingNode"":-92.607899,""timestamps"":{""meanAnomaly"":""2025-08-12T20:01:41Z""},""stations"":[],""updateTime"":""2025-08-12 20:01:41+00""},{""id64"":216172782133148815,""bodyId"":6,""name"":""lam01 Orionis A 3"",""type"":""Star"",""subType"":""M (Red dwarf) Star"",""distanceToArrival"":714.50054,""mainStar"":false,""age"":214,""spectralClass"":""M0"",""luminosity"":""Vz"",""absoluteMagnitude"":10.060059,""solarMasses"":0.304688,""solarRadius"":0.435058565061107,""surfaceTemperature"":2628.0,""rotationalPeriod"":0.863620025266204,""rotationalPeriodTidallyLocked"":false,""axialTilt"":1.321471,""parents"":[{""Null"":5},{""Star"":1},{""Null"":0}],""orbitalPeriod"":12.7436972602662,""semiMajorAxis"":0.000104944495198721,""orbitalEccentricity"":0.035325,""orbitalInclination"":-5.964874,""argOfPeriapsis"":197.450749,""meanAnomaly"":139.754521,""ascendingNode"":85.930555,""timestamps"":{""distanceToArrival"":""2025-08-12T20:03:22Z"",""meanAnomaly"":""2025-08-12T20:03:22Z""},""stations"":[],""updateTime"":""2025-08-12 20:03:22+00""},{""id64"":252201579152112783,""bodyId"":7,""name"":""lam01 Orionis A 4"",""type"":""Planet"",""subType"":""High metal content world"",""distanceToArrival"":745.610426,""isLandable"":false,""gravity"":18.0937583358825,""earthMasses"":154.089691,""radius"":18604.114,""surfaceTemperature"":21442.103516,""surfacePressure"":244168514.914977,""volcanismType"":""Major Silicate Vapour Geysers"",""atmosphereType"":""Hot thick Silicate vapour"",""atmosphereComposition"":{""Iron"":1.475462,""Silicates"":98.476776},""solidComposition"":{""Ice"":0.0,""Metal"":33.2275,""Rock"":66.7725},""terraformingState"":""Not terraformable"",""rotationalPeriod"":12.7528357451042,""rotationalPeriodTidallyLocked"":true,""axialTilt"":0.241513,""parents"":[{""Null"":5},{""Star"":1},{""Null"":0}],""orbitalPeriod"":12.7436972602662,""semiMajorAxis"":0.0731619059465323,""orbitalEccentricity"":0.035325,""orbitalInclination"":-5.964874,""argOfPeriapsis"":17.450754,""meanAnomaly"":139.754521,""ascendingNode"":85.930555,""timestamps"":{""distanceToArrival"":""2025-08-12T20:03:22Z"",""meanAnomaly"":""2025-08-12T20:03:22Z""},""stations"":[],""updateTime"":""2025-08-12 20:03:22+00""},{""id64"":288230376171076751,""bodyId"":8,""name"":""lam01 Orionis barycentre 8"",""type"":""Barycentre"",""orbitalPeriod"":100.948721584352,""semiMajorAxis"":2.11542767914175,""orbitalEccentricity"":0.004083,""orbitalInclination"":1.322606,""argOfPeriapsis"":52.544044,""meanAnomaly"":341.972644,""ascendingNode"":-158.62041,""timestamps"":{""meanAnomaly"":""2025-08-12T20:01:41Z""},""stations"":[],""updateTime"":""2025-08-12 20:01:41+00""},{""id64"":324259173190040719,""bodyId"":9,""name"":""lam01 Orionis A 5"",""type"":""Star"",""subType"":""K (Yellow-Orange) Star"",""distanceToArrival"":1051.520866,""mainStar"":false,""age"":214,""spectralClass"":""K0"",""luminosity"":""Vz"",""absoluteMagnitude"":7.350861,""solarMasses"":0.582031,""solarRadius"":0.659973061107117,""surfaceTemperature"":3981.0,""rotationalPeriod"":2.15033680202546,""rotationalPeriodTidallyLocked"":false,""axialTilt"":-0.788242,""parents"":[{""Null"":8},{""Star"":1},{""Null"":0}],""orbitalPeriod"":19.1379800714815,""semiMajorAxis"":0.0000239046901960885,""orbitalEccentricity"":0.096883,""orbitalInclination"":-5.68671,""argOfPeriapsis"":277.016784,""meanAnomaly"":89.869842,""ascendingNode"":-117.199093,""timestamps"":{""distanceToArrival"":""2025-08-12T20:03:22Z"",""meanAnomaly"":""2025-08-12T20:03:22Z""},""stations"":[],""updateTime"":""2025-08-12 20:03:22+00""},{""id64"":360287970209004687,""bodyId"":10,""name"":""lam01 Orionis A 6"",""type"":""Planet"",""subType"":""High metal content world"",""distanceToArrival"":1006.751349,""isLandable"":false,""gravity"":6.89805883552564,""earthMasses"":41.325104,""radius"":15603.792,""surfaceTemperature"":11623.425781,""surfacePressure"":35478060.5830348,""volcanismType"":""Major Silicate Vapour Geysers"",""atmosphereType"":""Hot thick Silicate vapour"",""atmosphereComposition"":{""Iron"":1.475891,""Silicates"":98.505402},""solidComposition"":{""Ice"":0.0,""Metal"":33.2275,""Rock"":66.7725},""terraformingState"":""Not terraformable"",""rotationalPeriod"":19.1399000141667,""rotationalPeriodTidallyLocked"":true,""axialTilt"":-0.393791,""parents"":[{""Null"":8},{""Star"":1},{""Null"":0}],""orbitalPeriod"":19.1379800714815,""semiMajorAxis"":0.119365745443866,""orbitalEccentricity"":0.096883,""orbitalInclination"":-5.68671,""argOfPeriapsis"":97.016789,""meanAnomaly"":89.869842,""ascendingNode"":-117.199093,""timestamps"":{""distanceToArrival"":""2025-08-12T20:03:22Z"",""meanAnomaly"":""2025-08-12T20:03:22Z""},""stations"":[],""updateTime"":""2025-08-12 20:03:22+00""},{""id64"":396316767227968655,""bodyId"":11,""name"":""lam01 Orionis barycentre 11"",""type"":""Barycentre"",""orbitalPeriod"":238.285765603738,""semiMajorAxis"":3.75027427610021,""orbitalEccentricity"":0.002383,""orbitalInclination"":0.042055,""argOfPeriapsis"":76.763755,""meanAnomaly"":49.045015,""ascendingNode"":139.557034,""timestamps"":{""meanAnomaly"":""2025-08-12T20:01:41Z""},""stations"":[],""updateTime"":""2025-08-12 20:01:41+00""},{""id64"":432345564246932623,""bodyId"":12,""name"":""lam01 Orionis A 7"",""type"":""Star"",""subType"":""B (Blue-White) Star"",""distanceToArrival"":1836.38296,""mainStar"":false,""age"":214,""spectralClass"":""B0"",""luminosity"":""Vz"",""absoluteMagnitude"":0.678024,""solarMasses"":2.992188,""solarRadius"":1.79153419410496,""surfaceTemperature"":11227.0,""rotationalPeriod"":4.65398214054398,""rotationalPeriodTidallyLocked"":false,""axialTilt"":0.520152,""parents"":[{""Null"":11},{""Star"":1},{""Null"":0}],""orbitalPeriod"":31.5826703552893,""semiMajorAxis"":0.0728082732492933,""orbitalEccentricity"":0.071315,""orbitalInclination"":0.390657,""argOfPeriapsis"":86.900896,""meanAnomaly"":133.293939,""ascendingNode"":150.241878,""timestamps"":{""distanceToArrival"":""2025-08-12T20:03:22Z"",""meanAnomaly"":""2025-08-12T20:03:22Z""},""stations"":[],""updateTime"":""2025-08-12 20:03:22+00""},{""id64"":468374361265896591,""bodyId"":13,""name"":""lam01 Orionis A 8"",""type"":""Star"",""subType"":""G (White-Yellow) Star"",""distanceToArrival"":1976.064472,""mainStar"":false,""age"":214,""spectralClass"":""G0"",""luminosity"":""Vz"",""absoluteMagnitude"":5.332214,""solarMasses"":0.90625,""solarRadius"":0.893951355859094,""surfaceTemperature"":5444.0,""rotationalPeriod"":2.81598547121528,""rotationalPeriodTidallyLocked"":false,""axialTilt"":-1.601265,""parents"":[{""Null"":11},{""Star"":1},{""Null"":0}],""orbitalPeriod"":31.5826703552893,""semiMajorAxis"":0.240473122757687,""orbitalEccentricity"":0.071315,""orbitalInclination"":0.390657,""argOfPeriapsis"":266.900891,""meanAnomaly"":133.293939,""ascendingNode"":150.241878,""timestamps"":{""distanceToArrival"":""2025-08-12T20:03:22Z"",""meanAnomaly"":""2025-08-12T20:03:22Z""},""stations"":[],""updateTime"":""2025-08-12 20:03:22+00""},{""id64"":504403158284860559,""bodyId"":14,""name"":""lam01 Orionis A 9"",""type"":""Star"",""subType"":""A (Blue-White) Star"",""distanceToArrival"":3410.899159,""mainStar"":false,""age"":214,""spectralClass"":""A0"",""luminosity"":""Vz"",""absoluteMagnitude"":1.54686,""solarMasses"":2.050781,""solarRadius"":1.64175413371675,""surfaceTemperature"":9602.0,""rotationalPeriod"":2.90425631696759,""rotationalPeriodTidallyLocked"":false,""axialTilt"":2.529599,""parents"":[{""Star"":1},{""Null"":0}],""orbitalPeriod"":560.509868794016,""semiMajorAxis"":6.63315009179783,""orbitalEccentricity"":0.046434,""orbitalInclination"":0.070079,""argOfPeriapsis"":2.108739,""meanAnomaly"":230.961392,""ascendingNode"":102.773126,""timestamps"":{""distanceToArrival"":""2025-08-12T20:03:22Z"",""meanAnomaly"":""2025-08-12T20:03:22Z""},""stations"":[],""updateTime"":""2025-08-12 20:03:22+00""},{""id64"":540431955303824527,""bodyId"":15,""name"":""lam01 Orionis A 9 a"",""type"":""Star"",""subType"":""T (Brown dwarf) Star"",""distanceToArrival"":3475.646064,""mainStar"":false,""age"":214,""spectralClass"":""T0"",""luminosity"":""Vz"",""absoluteMagnitude"":16.107437,""solarMasses"":0.070313,""solarRadius"":0.176330536304817,""surfaceTemperature"":1026.0,""rotationalPeriod"":1.99080469666667,""rotationalPeriodTidallyLocked"":false,""axialTilt"":0.132121,""parents"":[{""Star"":14},{""Star"":1},{""Null"":0}],""orbitalPeriod"":26.8163187084375,""semiMajorAxis"":0.229453744473425,""orbitalEccentricity"":0.0,""orbitalInclination"":21.189053,""argOfPeriapsis"":353.734148,""meanAnomaly"":309.757922,""ascendingNode"":-139.375556,""timestamps"":{""distanceToArrival"":""2025-08-12T20:03:22Z"",""meanAnomaly"":""2025-08-12T20:03:22Z""},""stations"":[],""updateTime"":""2025-08-12 20:03:22+00""}],""stations"":[{""name"":""Orbital Construction Site: Balmer Prospect"",""id"":3954819842,""updateTime"":""2025-06-02 05:36:08+00"",""controllingFaction"":""Brewer Corporation"",""controllingFactionState"":null,""distanceToArrival"":115304.522597,""primaryEconomy"":""Colony"",""economies"":{""Colony"":100.0},""allegiance"":""Federation"",""government"":""Corporate"",""services"":[""Dock"",""Autodock"",""Market"",""Contacts"",""Restock"",""Refuel"",""Repair"",""Flight Controller"",""Station Operations"",""Station Menu"",""Construction Services""],""type"":""Space Construction Depot"",""landingPads"":{""large"":0,""medium"":11,""small"":3},""market"":{""commodities"":[],""prohibitedCommodities"":[""Narcotics"",""Battle Weapons"",""Combat Stabilisers"",""Imperial Slaves"",""Slaves"",""Tobacco""],""updateTime"":""2025-06-02 05:36:08+00""}},{""name"":""Donitz Depot"",""id"":4245900803,""updateTime"":""2025-08-12 20:07:09+00"",""controllingFaction"":""The Dark Wheel"",""controllingFactionState"":null,""distanceToArrival"":389.176007,""primaryEconomy"":""Extraction"",""economies"":{""Extraction"":180.0,""Service"":5.0},""government"":""Democracy"",""services"":[""Dock"",""Autodock"",""Black Market"",""Market"",""Contacts"",""Missions"",""Crew Lounge"",""Restock"",""Refuel"",""Repair"",""Workshop"",""Missions Generated"",""Interstellar Factors Contact"",""Flight Controller"",""Station Operations"",""Powerplay"",""Search and Rescue"",""Station Menu"",""Social Space"",""System Colonisation""],""type"":""Outpost"",""state"":""Construction"",""landingPads"":{""large"":0,""medium"":1,""small"":4},""market"":{""commodities"":[{""name"":""Advanced Medicines"",""symbol"":""AdvancedMedicines"",""category"":""Medicines"",""commodityId"":128682046,""demand"":1640,""supply"":0,""buyPrice"":0,""sellPrice"":1922},{""name"":""Agronomic Treatment"",""symbol"":""AgronomicTreatment"",""category"":""Chemicals"",""commodityId"":128924334,""demand"":16,""supply"":0,""buyPrice"":0,""sellPrice"":3713},{""name"":""Animal Meat"",""symbol"":""Animalmeat"",""category"":""Foods"",""commodityId"":128049182,""demand"":457,""supply"":0,""buyPrice"":0,""sellPrice"":2093},{""name"":""Basic Medicines"",""symbol"":""BasicMedicines"",""category"":""Medicines"",""commodityId"":128049210,""demand"":3832,""supply"":0,""buyPrice"":0,""sellPrice"":963},{""name"":""Bauxite"",""symbol"":""Bauxite"",""category"":""Minerals"",""commodityId"":128049165,""demand"":1,""supply"":797,""buyPrice"":661,""sellPrice"":633},{""name"":""Beer"",""symbol"":""Beer"",""category"":""Legal Drugs"",""commodityId"":128049214,""demand"":11566,""supply"":0,""buyPrice"":0,""sellPrice"":796},{""name"":""Bertrandite"",""symbol"":""Bertrandite"",""category"":""Minerals"",""commodityId"":128049156,""demand"":1,""supply"":14215,""buyPrice"":16148,""sellPrice"":15739},{""name"":""Bioreducing Lichen"",""symbol"":""BioReducingLichen"",""category"":""Technology"",""commodityId"":128049672,""demand"":38416,""supply"":0,""buyPrice"":0,""sellPrice"":1703},{""name"":""Biowaste"",""symbol"":""Biowaste"",""category"":""Waste"",""commodityId"":128049244,""demand"":1,""supply"":2883,""buyPrice"":28,""sellPrice"":17},{""name"":""Black Box"",""symbol"":""USSCargoBlackBox"",""category"":""Salvage"",""commodityId"":128666752,""demand"":16,""supply"":0,""buyPrice"":0,""sellPrice"":31261},{""name"":""Clothing"",""symbol"":""Clothing"",""category"":""Consumer Items"",""commodityId"":128049241,""demand"":5362,""supply"":0,""buyPrice"":0,""sellPrice"":963},{""name"":""Cobalt"",""symbol"":""Cobalt"",""category"":""Metals"",""commodityId"":128049162,""demand"":1,""supply"":9926,""buyPrice"":2480,""sellPrice"":2369},{""name"":""Coffee"",""symbol"":""Coffee"",""category"":""Foods"",""commodityId"":128049189,""demand"":1110,""supply"":0,""buyPrice"":0,""sellPrice"":2093},{""name"":""Coltan"",""symbol"":""Coltan"",""category"":""Minerals"",""commodityId"":128049159,""demand"":1,""supply"":5637,""buyPrice"":4715,""sellPrice"":4523},{""name"":""Consumer Technology"",""symbol"":""ConsumerTechnology"",""category"":""Consumer Items"",""commodityId"":128049240,""demand"":281,""supply"":0,""buyPrice"":0,""sellPrice"":7468},{""name"":""Damaged Escape Pod"",""symbol"":""DamagedEscapePod"",""category"":""Salvage"",""commodityId"":128672811,""demand"":16,""supply"":0,""buyPrice"":0,""sellPrice"":17045},{""name"":""Domestic Appliances"",""symbol"":""DomesticAppliances"",""category"":""Consumer Items"",""commodityId"":128049238,""demand"":2989,""supply"":0,""buyPrice"":0,""sellPrice"":1216},{""name"":""Explosives"",""symbol"":""Explosives"",""category"":""Chemicals"",""commodityId"":128049204,""demand"":11274,""supply"":0,""buyPrice"":0,""sellPrice"":946},{""name"":""Fish"",""symbol"":""Fish"",""category"":""Foods"",""commodityId"":128049183,""demand"":2520,""supply"":0,""buyPrice"":0,""sellPrice"":1069},{""name"":""Food Cartridges"",""symbol"":""FoodCartridges"",""category"":""Foods"",""commodityId"":128049184,""demand"":4207,""supply"":0,""buyPrice"":0,""sellPrice"":767},{""name"":""Fruit and Vegetables"",""symbol"":""FruitAndVegetables"",""category"":""Foods"",""commodityId"":128049178,""demand"":4004,""supply"":0,""buyPrice"":0,""sellPrice"":963},{""name"":""Gallite"",""symbol"":""Gallite"",""category"":""Minerals"",""commodityId"":128049158,""demand"":1,""supply"":16910,""buyPrice"":10083,""sellPrice"":9831},{""name"":""Gold"",""symbol"":""Gold"",""category"":""Metals"",""commodityId"":128049154,""demand"":1,""supply"":1634,""buyPrice"":43826,""sellPrice"":43326},{""name"":""Grain"",""symbol"":""Grain"",""category"":""Foods"",""commodityId"":128049180,""demand"":8946,""supply"":0,""buyPrice"":0,""sellPrice"":835},{""name"":""H.E. Suits"",""symbol"":""HazardousEnvironmentSuits"",""category"":""Technology"",""commodityId"":128049226,""demand"":24998,""supply"":0,""buyPrice"":0,""sellPrice"":915},{""name"":""Haematite"",""symbol"":""Haematite"",""category"":""Minerals"",""commodityId"":129031327,""demand"":1,""supply"":4841,""buyPrice"":1260,""sellPrice"":1227},{""name"":""Hostages"",""symbol"":""Hostage"",""category"":""Salvage"",""commodityId"":128672135,""demand"":16,""supply"":0,""buyPrice"":0,""sellPrice"":34810},{""name"":""Hydrogen Fuel"",""symbol"":""HydrogenFuel"",""category"":""Chemicals"",""commodityId"":128049202,""demand"":1,""supply"":17360,""buyPrice"":84,""sellPrice"":80},{""name"":""Indite"",""symbol"":""Indite"",""category"":""Minerals"",""commodityId"":128049157,""demand"":1,""supply"":3922,""buyPrice"":9472,""sellPrice"":9228},{""name"":""Lepidolite"",""symbol"":""Lepidolite"",""category"":""Minerals"",""commodityId"":128049161,""demand"":1,""supply"":23160,""buyPrice"":383,""sellPrice"":366},{""name"":""Liquor"",""symbol"":""Liquor"",""category"":""Legal Drugs"",""commodityId"":128049216,""demand"":2048,""supply"":0,""buyPrice"":0,""sellPrice"":1320},{""name"":""Mineral Extractors"",""symbol"":""MineralExtractors"",""category"":""Machinery"",""commodityId"":128049221,""demand"":57899,""supply"":0,""buyPrice"":0,""sellPrice"":1290},{""name"":""Nerve Agents"",""symbol"":""NerveAgents"",""category"":""Chemicals"",""commodityId"":128672304,""demand"":1,""supply"":171,""buyPrice"":11778,""sellPrice"":11646},{""name"":""Non-Lethal Weapons"",""symbol"":""NonLethalWeapons"",""category"":""Weapons"",""commodityId"":128049236,""demand"":1425,""supply"":0,""buyPrice"":0,""sellPrice"":2634},{""name"":""Occupied Escape Pod"",""symbol"":""OccupiedCryoPod"",""category"":""Salvage"",""commodityId"":128672125,""demand"":16,""supply"":0,""buyPrice"":0,""sellPrice"":30541},{""name"":""Onionhead Gamma Strain"",""symbol"":""OnionHeadC"",""category"":""Legal Drugs"",""commodityId"":128983059,""demand"":1333,""supply"":0,""buyPrice"":0,""sellPrice"":5807},{""name"":""Palladium"",""symbol"":""Palladium"",""category"":""Metals"",""commodityId"":128049153,""demand"":1,""supply"":654,""buyPrice"":47008,""sellPrice"":46478},{""name"":""Performance Enhancers"",""symbol"":""PerformanceEnhancers"",""category"":""Medicines"",""commodityId"":128049209,""demand"":1173,""supply"":0,""buyPrice"":0,""sellPrice"":7851},{""name"":""Personal Effects"",""symbol"":""PersonalEffects"",""category"":""Salvage"",""commodityId"":128672126,""demand"":16,""supply"":0,""buyPrice"":0,""sellPrice"":9640},{""name"":""Power Generators"",""symbol"":""PowerGenerators"",""category"":""Machinery"",""commodityId"":128049217,""demand"":736,""supply"":0,""buyPrice"":0,""sellPrice"":3212},{""name"":""Reactive Armour"",""symbol"":""ReactiveArmour"",""category"":""Weapons"",""commodityId"":128049235,""demand"":987,""supply"":0,""buyPrice"":0,""sellPrice"":2904},{""name"":""Rutile"",""symbol"":""Rutile"",""category"":""Minerals"",""commodityId"":128049163,""demand"":1,""supply"":4351,""buyPrice"":1450,""sellPrice"":1413},{""name"":""Silver"",""symbol"":""Silver"",""category"":""Metals"",""commodityId"":128049155,""demand"":1,""supply"":2145,""buyPrice"":33354,""sellPrice"":32559},{""name"":""Synthetic Meat"",""symbol"":""SyntheticMeat"",""category"":""Foods"",""commodityId"":128049185,""demand"":2586,""supply"":0,""buyPrice"":0,""sellPrice"":888},{""name"":""Tea"",""symbol"":""Tea"",""category"":""Foods"",""commodityId"":128049188,""demand"":535,""supply"":0,""buyPrice"":0,""sellPrice"":2289},{""name"":""Tobacco"",""symbol"":""Tobacco"",""category"":""Legal Drugs"",""commodityId"":128049213,""demand"":2322,""supply"":0,""buyPrice"":0,""sellPrice"":5827},{""name"":""Unoccupied Escape Pod"",""symbol"":""UnocuppiedEscapePod"",""category"":""Salvage"",""commodityId"":129022087,""demand"":16,""supply"":0,""buyPrice"":0,""sellPrice"":4159},{""name"":""Uraninite"",""symbol"":""Uraninite"",""category"":""Minerals"",""commodityId"":128049160,""demand"":1,""supply"":8088,""buyPrice"":2023,""sellPrice"":1936},{""name"":""Water"",""symbol"":""Water"",""category"":""Chemicals"",""commodityId"":128049166,""demand"":981,""supply"":0,""buyPrice"":0,""sellPrice"":757},{""name"":""Water Purifiers"",""symbol"":""WaterPurifiers"",""category"":""Machinery"",""commodityId"":128049218,""demand"":2268,""supply"":0,""buyPrice"":0,""sellPrice"":946},{""name"":""Wine"",""symbol"":""Wine"",""category"":""Legal Drugs"",""commodityId"":128049215,""demand"":1374,""supply"":0,""buyPrice"":0,""sellPrice"":863},{""name"":""Wreckage Components"",""symbol"":""WreckageComponents"",""category"":""Salvage"",""commodityId"":128672123,""demand"":154,""supply"":0,""buyPrice"":0,""sellPrice"":9059}],""prohibitedCommodities"":[],""updateTime"":""2025-08-12 20:07:09+00""}}]}]";
		private const string benchmarkDataFile = "data.json";
		private readonly GalaxyParser parser = new();

		public async Task<long> BenchmarkWithFileIO()
		{
			long count = 0;

			await foreach (StarSystem? system in parser.ParseFileAsync(benchmarkDataFile))
			{
				count++;
			}

			return count;
		}

		[Benchmark]
		public async Task<long> BenchmarkFromString()
		{
			long count = 0;
			await foreach (var item in parser.ParseStringAsync(benchmarkSystem))
			{
				count++;
			}

			return count;
		}

		[Benchmark]
		public async Task<long> BenchmarkFromStream()
		{
			long count = 0;
			using (MemoryStream ms = new MemoryStream(Encoding.UTF8.GetBytes(benchmarkSystem ?? "")))
			{
				await foreach (var item in parser.ParseStreamAsync(ms))
				{
					count++;
				}
			}

			return count;
		}
	}
}
